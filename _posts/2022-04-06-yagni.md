---
layout: post
title: "談談 YAGNI 原則"
tagline: "You aren't gonna need it!"
meta: design
author: "Kai-Sheng"
--- 

## 什麼是 YAGNI

YAGNI (You aren't gonna need it!) 原則指出，開發應該在面臨確鑿的需求時，才實現相應功能。

白話來說，就是不要實作那些現在用不到的東西，不要因為未來可能需要的理由而實作。以下是常見的違反 YAGNI 原則的經典案例:

> 這段程式我先註解起來，之後可能會再用到
>
> 這個 class 我先把它抽象化，之後可以替換實作時，較有彈性
>
> 這段程式我先抽出成 util ，之後可以給別人共用。
>
> 我覺得這個功能，user 之後可能會提出來，雖然現在還用不到，所以我事先做出來。
>
 
![YAGNI](/assets/image/yagni.png)

上述為了未來而預先做的設計，不但在未來可能連一次都沒使用過，反而增加理解程式碼的門檻，更會在因為其他原因而需變更程式碼時造成困擾。

我們不是算命仙，不能預測未來，在這個瞬息萬變的時代，計劃往往趕不上變化。我們應該花更多精力去解決當前的問題，專注於當下 user 的需求，而不是為了應對未來的各種變化，畫蛇添足的設計。

我們也應該學習斷捨離的精神，盡量刪除那些用不到的程式碼，也要避免實作無用的功能，將設計單純化。


也許有些人會質疑: 

> 這些程式碼雖然現在沒用到，但留著也沒什麼不好。

除非此專案日後不再作任何改動，否則 **每行程式碼都是有成本的**







## 如何應對
如何做到剛剛好就可以，不過度設計。可以做簡單的自我檢視 :

**這種設計會不會很難改 ?**

換言之，這種設計能不能適應未來的改變 ?

如果不會的話，又能解決當前的問題，就是個剛剛好的設計

設計的標準在取得平衡，要加入任何的設計都要考量到增加的複雜度跟成本，如果不值得就別加，如果值得，那就放手做吧

## 需要考慮未來的情形
但此原則是以程式碼能輕易變更為前提。至於程式碼難以變更的範例，則有對外公開的 API 與函式庫， 以及不易遷移的資料庫 schema 等。在這種情況下，可能會被要求以考慮未來使用情況的方式，進行設計與實作

 