---
layout: post
title: "談談 YAGNI 原則"
tagline: "You aren't gonna need it!"
meta: design
author: "Kai-Sheng"
--- 

YAGNI (You aren't gonna need it!) 原則指出，開發應該在面臨確鑿的需求時，才實現相應功能。換言之，就是不要實作那些現在用不到的東西，也不要因為未來可能需要的理由而事先實作。以下是常見違反 YAGNI 原則的經典案例:

> 這段程式我先註解起來，之後可能會再用到
>
> 這個 class 我先把它抽象化，之後可以替換實作時，較有彈性
>
> 這段程式我先抽出成 util ，之後可以給別人共用。
>
> 我覺得這個功能，user 之後可能會提出來，雖然現在還用不到，所以我事先做出來。
>
 

 -----
 
![YAGNI](/assets/image/yagni.png)

-----

上述為了未來而預先做的設計，往往事與願違。

我們不是算命仙，不能預測未來，在這個瞬息萬變的時代，計劃往往趕不上變化。我們應該花更多精力去解決當前的問題，專注於當下 user 的需求，而不是為了應對未來的各種變化，畫蛇添足的設計。我們也應該學習斷捨離的精神，盡量刪除那些用不到的程式碼，也要避免實作無用的功能，將設計單純化。


也許有些人會質疑: 

> 這些設計雖然現在沒用到，但留著也沒什麼不好。

除非此專案日後不再作任何維護，否則 **每行程式碼、每個設計都是有成本的**，包含
- 開發成本
- 維護成本
- 理解程式碼的門檻
- 編譯執行成本

等等

## 如何不違反 YAGNI 原則

如何不違反 YAGNI 原則，其實目標就是如何做到剛剛好就可以、如何不過度設計。可以做簡單的自我檢視 :

**這種設計能不能輕易的改變 ?**

如果可以，又能解決當前的問題，那就是個剛剛好的設計。

## 什麼時候可以合法的違反 YAGNI

如果你設計的是給其他人使用的 API、函式庫，或是 DB schema 時，可能就需要額外考慮未來的狀況。
 